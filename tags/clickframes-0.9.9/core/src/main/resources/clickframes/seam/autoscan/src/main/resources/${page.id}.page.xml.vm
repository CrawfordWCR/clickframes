<!DOCTYPE page PUBLIC 
    "-//JBoss/Seam Pages Configuration DTD 1.1//EN" 
    "http://jboss.com/products/seam/pages-2.0.dtd">

<!-- automatically generated by clickframes -->

<page view-id="/${page.id}.xhtml" login-required="${page.loginRequired}">

#foreach ($param in $page.parameters)
#if ($param.required)
 <param name="${param.id}" required="true" />
#end
#end

 <begin-conversation join="true" />

  <action execute="#{${page.id}Controller.${controller.pageLoadActionId}}" />

#if ($page.defaultForm)
#foreach ($action in $page.defaultForm.actions)
#if ($action.id == 'accessPage')
  <action execute="#{${page.id}Controller.${page.defaultForm.id}${action.name}}" />
#end
#end
#end

<!-- form actions -->
#foreach ($form in $page.forms)
#foreach ($action in $form.actions)
  <!-- ${action.title} -->
  <navigation from-action="#{${page.id}Controller.${form.id}${action.name}}">

    #foreach ($outcome in $action.outcomes) 
    <!-- ${outcome.title} -->
    <rule if-outcome="${outcome.id}">
    
      #if($outcome.internal)
      <redirect view-id="/${outcome.page.id}.xhtml">
#if ($outcome.message)
              <message>${outcome.message}</message>
#end
### if CRUD action, pass params to next object
#if ($action.type == 'CREATE')
#foreach ($entityCreated in $form.entities)
#foreach ($param in ${outcome.page.parameters})
#if (${param.entityProperty} && ${param.entityProperty.entity.id} == ${entityCreated.id})
              <param name="${param.id}" value="#{${page.id}Controller.${entityCreated.id}.${param.entityProperty.id}}" />
#end
#end## end foreach param on next page
#end## foreach entity created
#end### if CRUD
      </redirect>
      #else
      <redirect view-id="/redirect.xhtml">
         <param name="url" value="${outcome.href}" />
      </redirect>
      #end
    </rule>
    #end
  </navigation>
#end
#end
</page>