<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<appspec xmlns="http://www.clickframes.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.clickframes.org clickframes.xsd"
  defaultPage="upload">
    <title>CLIPr</title>
    <description>
        CLIPr is a little tool for generating CLIPs from a Clickframes appspec.
    </description>
    <page id="upload">
        <title>Upload an appspec</title>
        <description>
            On this page, the user may upload an appspec.
        </description>
        <fact>
            PAGE shall list titles of all projects that have been
            generated by CLIPr, linking to their CLIPs.
        </fact>
        <form id="uploadForm">
            <input type="upload">
                <title>Your Appspec</title>
                <validation type="required" description="Please choose a file to upload." />
            </input>
            <action>
                <title>Upload</title>
                <outcome id="appspecIsValid">
                    <title>Appspec is valid</title>
                    <pageRef>success</pageRef>
                    <fact>
                        System shall generate Clickframes artifacts (i.e. CLIPs) for the
                        uploaded appspec.
                    </fact>
                    <fact>
                        System shall generate a downloadable ZIP archive containing all generated artifacts.
                    </fact>
                    <fact>
                        Generated CLIPs shall be accessible through the browser using
                        a unique URL, e.g. clickframes.org/clips/550e8400
                    </fact>
                </outcome>
                <outcome id="appspecIsInvalid" negative="true">
                    <title>Appspec is invalid</title>
                    <pageRef>upload</pageRef>
                    <message>Sorry, your appspec is not valid. Please correct and try again.</message>
                    <fact>
                        If possible, display pleasantly formatted XML validation errors.
                    </fact>
                </outcome>
            </action>
        </form>
    </page>
    <page id="success">
        <title>View Your CLIPs</title>
        <description>
            This page shows the user his unique URL for accessing his CLIPs, plus a URL
            for downloading all generated files as ZIP.
        </description>
    </page>
</appspec>
